CREATE SEQUENCE seq_mae_banco START WITH 1001;
CREATE SEQUENCE seq_mae_proveedor START WITH 4001001;
CREATE SEQUENCE seq_trs_cheque START WITH 5001001;
CREATE SEQUENCE seq_mae_cuenta_proveedor START WITH 6001001;

-- Tables
CREATE TABLE IF NOT EXISTS "MAE_BANCO" (
    "PK_MAE_BANCO" bigint NOT NULL DEFAULT nextval('seq_mae_banco'),
    "NOMBRE" text NOT NULL,
    "DIRECCION" text NOT NULL,
    "TELEFONO" bigint NOT NULL,
    PRIMARY KEY ("PK_MAE_BANCO")
);

CREATE TABLE IF NOT EXISTS "MAE_PROVEEDOR" (
    "PK_MAE_PROVEEDOR" bigint NOT NULL DEFAULT nextval('seq_mae_proveedor'),
    "NOMBRE" text NOT NULL,
    "RUC" bigint NOT NULL UNIQUE,
    "TELEFONO" bigint NOT NULL,
    "RUBRO" bigint NOT NULL,
    "CIUDAD" bigint NOT NULL,
    PRIMARY KEY ("PK_MAE_PROVEEDOR")
);

CREATE TABLE IF NOT EXISTS "TRS_CHEQUE" (
    "PK_TRS_CHEQUE" bigint NOT NULL DEFAULT nextval('seq_trs_cheque'),
    "FECHA" date NOT NULL,
    "FK_TRS_CHEQUE_MAE_CUENTA" bigint NOT NULL,
    "NUMERO" serial NOT NULL UNIQUE,
    "CONCEPTO" text NOT NULL,
    "FK_TRS_CHEQUE_MAE_PROVEEDOR" bigint NOT NULL,
    "IMPORTE" numeric(10, 0) NOT NULL,
    "FK_TRS_CHEQUE_TRS_REGISTRO_TRANSACCION" bigint NOT NULL,
    "FK_TRS_CHEQUE_MAE_ESTATUS" bigint NOT NULL,
    PRIMARY KEY ("PK_TRS_CHEQUE")
);

CREATE TABLE IF NOT EXISTS "MAE_CUENTA_PROVEEDOR" (
    "PK_MAE_CUENTA_PROVEEDOR" bigint NOT NULL DEFAULT nextval('seq_mae_cuenta_proveedor'),
    "CODIGO_CUENTA" bigint NOT NULL,
    "FK_MAE_CUENTA_PROVEEDOR_MAE_BANCO" bigint NOT NULL,
    "FK_MAE_CUENTA_PROVEEDOR_MAE_PROVEEDOR" bigint NOT NULL,
    PRIMARY KEY ("PK_MAE_CUENTA_PROVEEDOR")
);

CREATE TABLE IF NOT EXISTS "TRS_REGISTRO_TRANSACCION" (
	"PK_TRS_REGISTRO_TRANSACCION" bigint GENERATED ALWAYS AS IDENTITY NOT NULL UNIQUE,
	"FK_TRS_REGISTRO_TRANSACCION_MAE_TIPO_DOCUMENTO" bigint NOT NULL,
	PRIMARY KEY ("PK_TRS_REGISTRO_TRANSACCION")
);

CREATE TABLE IF NOT EXISTS "MAE_TIPO_DOCUMENTO" (
    "PK_MAE_TIPO_DOCUMENTO" bigint GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    "NOMBRE" bigint NOT NULL,
    "DESCRIPCION" text NOT NULL
);


CREATE TABLE IF NOT EXISTS "MAE_ESTATUS" (
    "PK_MAE_ESTATUS" bigint GENERATED ALWAYS AS IDENTITY 
        (START WITH 1),
    "DESCRIPCION" text NOT NULL,
    PRIMARY KEY ("PK_MAE_ESTATUS")
);


CREATE TABLE IF NOT EXISTS "MAE_CUENTA" (
	"PK_MAE_CUENTA" bigint GENERATED ALWAYS AS IDENTITY NOT NULL UNIQUE,
	"SALDO" bigint NOT NULL,
	"FK_MAE_CUENTA_MAE_BANCO" bigint NOT NULL,
	"FK_MAE_CUENTA_MAE_TIPO_CUENTA" bigint NOT NULL,
	PRIMARY KEY ("PK_MAE_CUENTA")
);

CREATE TABLE IF NOT EXISTS "MAE_TIPO_CUENTA" (
	"PK_TIPO_CUENTA" bigint GENERATED ALWAYS AS IDENTITY NOT NULL UNIQUE,
	"DESCRIPCION" text NOT NULL,
	PRIMARY KEY ("PK_TIPO_CUENTA")
);



ALTER TABLE "TRS_CHEQUE" ADD CONSTRAINT "TRS_CHEQUE_fk2" FOREIGN KEY ("FK_TRS_CHEQUE_MAE_CUENTA") REFERENCES "MAE_CUENTA"("PK_MAE_CUENTA");

ALTER TABLE "TRS_CHEQUE" ADD CONSTRAINT "TRS_CHEQUE_fk5" FOREIGN KEY ("FK_TRS_CHEQUE_MAE_PROVEEDOR") REFERENCES "MAE_PROVEEDOR"("PK_MAE_PROVEEDOR");

ALTER TABLE "TRS_CHEQUE" ADD CONSTRAINT "TRS_CHEQUE_fk7" FOREIGN KEY ("FK_TRS_CHEQUE_TRS_REGISTRO_TRANSACCION") REFERENCES "TRS_REGISTRO_TRANSACCION"("PK_TRS_REGISTRO_TRANSACCION");

ALTER TABLE "TRS_CHEQUE" ADD CONSTRAINT "TRS_CHEQUE_fk8" FOREIGN KEY ("FK_TRS_CHEQUE_MAE_ESTATUS") REFERENCES "MAE_ESTATUS"("PK_MAE_ESTATUS");

ALTER TABLE "MAE_CUENTA_PROVEEDOR" ADD CONSTRAINT "MAE_CUENTA_PROVEEDOR_fk2" FOREIGN KEY ("FK_MAE_CUENTA_PROVEEDOR_MAE_BANCO") REFERENCES "MAE_BANCO"("PK_MAE_BANCO");

ALTER TABLE "MAE_CUENTA_PROVEEDOR" ADD CONSTRAINT "MAE_CUENTA_PROVEEDOR_fk3" FOREIGN KEY ("FK_MAE_CUENTA_PROVEEDOR_MAE_PROVEEDOR") REFERENCES "MAE_PROVEEDOR"("PK_MAE_PROVEEDOR");
ALTER TABLE "TRS_REGISTRO_TRANSACCION" ADD CONSTRAINT "TRS_REGISTRO_TRANSACCION_fk1" FOREIGN KEY ("FK_TRS_REGISTRO_TRANSACCION_MAE_TIPO_DOCUMENTO") REFERENCES "MAE_TIPO_DOCUMENTO"("PK_MAE_TIPO_DOCUMENTO");


ALTER TABLE "MAE_CUENTA" ADD CONSTRAINT "MAE_CUENTA_fk2" FOREIGN KEY ("FK_MAE_CUENTA_MAE_BANCO") REFERENCES "MAE_BANCO"("PK_MAE_BANCO");

ALTER TABLE "MAE_CUENTA" ADD CONSTRAINT "MAE_CUENTA_fk3" FOREIGN KEY ("FK_MAE_CUENTA_MAE_TIPO_CUENTA") REFERENCES "MAE_TIPO_CUENTA"("PK_TIPO_CUENTA");